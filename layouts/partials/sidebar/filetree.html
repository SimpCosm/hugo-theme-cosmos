{{ $bookSection := "docs" }}

{{ with .Site.GetPage $bookSection }}
{{ template "book-section-children" (dict "Section" . "CurrentPage" $ ) }}
{{ end }}

{{ define "book-section-children" }}{{/* (dict "Section" .Section "CurrentPage" .CurrentPage) */}}
    {{ range (where .Section.Pages "Params.bookhidden" "ne" true) }}
        {{ if .IsSection }}
            {{ $current := eq $.CurrentPage . }}
            <li data-nav-id="{{ .RelPermalink }}" class="dd-item {{ if $current }}active{{ end }}">
                <a href="{{ .RelPermalink }}">
                    {{- partial "sidebar/title" .Page -}}
                </a>
                <ul>
                    {{ template "book-section-children" (dict "Section" . "CurrentPage" $.CurrentPage) }}
                </ul>
            </li>
        {{ else if and .IsPage .Content }}
            {{ $current := eq $.CurrentPage . }}
            {{ $ancestor := .IsAncestor $.CurrentPage }}
            <li data-nav-id="{{ .RelPermalink }}" class="dd-item {{ if $current }}active{{ end }}">
                <a href="{{ .Page.RelPermalink }}">
                    {{- partial "sidebar/title" .Page -}}
                </a>
            </li>
        {{ end }}
    {{ end }}
{{ end }}

{{ define "book-page-link" }}{{/* (dict "Page" .Page "CurrentPage" .CurrentPage) */}}



{{ end }}
